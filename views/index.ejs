<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %></title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="light-theme">
  <!-- Theme Toggle -->
  <div class="theme-toggle">
    <button id="theme-btn" class="theme-btn" aria-label="Toggle theme">
      <i class="fas fa-moon"></i>
    </button>
  </div>

  <!-- Header -->
  <header class="header">
    <div class="container">
      <div class="profile-header">
        <div class="profile-avatar">
          <img src="<%= profile.personalInfo.avatar %>" alt="<%= profile.personalInfo.name %>" onerror="this.src='/images/default-avatar.jpg'">
        </div>
        <div class="profile-info">
          <h1><%= profile.personalInfo.name %></h1>
          <h2><%= profile.personalInfo.title %></h2>
          <% if (profile.personalInfo.tagline) { %>
            <p class="tagline"><%= profile.personalInfo.tagline %></p>
          <% } %>
          <div class="contact-info">
            <% if (profile.personalInfo.email) { %>
              <span><i class="fas fa-envelope"></i> <%= profile.personalInfo.email %></span>
            <% } %>
            <% if (profile.personalInfo.location) { %>
              <span><i class="fas fa-map-marker-alt"></i> <%= profile.personalInfo.location %></span>
            <% } %>
            <% if (profile.personalInfo.website) { %>
              <span><i class="fas fa-globe"></i> <a href="<%= profile.personalInfo.website %>" target="_blank">Portfolio</a></span>
            <% } %>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Navigation -->
  <nav class="navbar">
    <div class="container">
      <ul class="nav-links">
        <li><a href="#summary" class="nav-link active">Summary</a></li>
        <li><a href="#skills" class="nav-link">Skills</a></li>
        <li><a href="#certifications" class="nav-link">Certifications</a></li>
        <li><a href="#experience" class="nav-link">Experience</a></li>
        <li><a href="#projects" class="nav-link">Projects</a></li>
        <li><a href="#profiles" class="nav-link">Profiles</a></li>
        <li><a href="#education" class="nav-link">Education</a></li>
        <li><a href="#analytics" class="nav-link">Analytics</a></li>
      </ul>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="main-content">
    <div class="container">
      
      <!-- Summary Section -->
      <section id="summary" class="section">
        <div class="section-header">
          <h3><i class="fas fa-user"></i> Professional Summary</h3>
        </div>
        <div class="section-content">
          <p class="summary-text"><%= profile.summary %></p>
        </div>
      </section>

      <!-- Skills Section -->
      <section id="skills" class="section">
        <div class="section-header">
          <h3><i class="fas fa-code"></i> Core Skills</h3>
        </div>
        <div class="section-content">
          <div class="skills-grid">
            <% profile.coreSkills.forEach(skill => { %>
              <div class="skill-item">
                <i class="fas fa-check-circle"></i>
                <span><%= skill %></span>
              </div>
            <% }); %>
          </div>
        </div>
      </section>

      <!-- Certifications Section -->
      <section id="certifications" class="section">
        <div class="section-header">
          <h3><i class="fas fa-certificate"></i> Certifications & Awards</h3>
        </div>
        <div class="section-content">
          <div class="certifications-grid">
            <div class="cert-category">
              <h4>Certifications</h4>
              <% profile.certifications.forEach(cert => { %>
                <div class="cert-item">
                  <div class="cert-title"><%= cert.title %></div>
                  <div class="cert-issuer"><%= cert.issuer %> • <%= cert.year %></div>
                </div>
              <% }); %>
            </div>
            <div class="cert-category">
              <h4>Awards</h4>
              <% profile.awards.forEach(award => { %>
                <div class="cert-item">
                  <div class="cert-title"><%= award.title %></div>
                  <div class="cert-issuer"><%= award.issuer %> • <%= award.year %></div>
                </div>
              <% }); %>
            </div>
          </div>
        </div>
      </section>

      <!-- Experience Section -->
      <section id="experience" class="section">
        <div class="section-header">
          <h3><i class="fas fa-briefcase"></i> Professional Experience</h3>
        </div>
        <div class="section-content">
          <div class="timeline">
            <% profile.experience.forEach((exp, index) => { %>
              <div class="timeline-item <%= index === 0 ? 'current' : '' %>">
                <div class="timeline-marker"></div>
                <div class="timeline-content">
                  <h4><%= exp.position %></h4>
                  <h5><%= exp.company %></h5>
                  <span class="duration"><%= exp.duration %></span>
                  <% if (exp.location) { %>
                    <span class="location"><i class="fas fa-map-marker-alt"></i> <%= exp.location %></span>
                  <% } %>
                  <p><%= exp.description %></p>
                  <% if (exp.achievements && exp.achievements.length > 0) { %>
                    <ul class="achievements">
                      <% exp.achievements.forEach(achievement => { %>
                        <li><%= achievement %></li>
                      <% }); %>
                    </ul>
                  <% } %>
                </div>
              </div>
            <% }); %>
          </div>
        </div>
      </section>

      <!-- Projects Section -->
      <% if (profile.projects && profile.projects.length > 0) { %>
      <section id="projects" class="section">
        <div class="section-header">
          <h3><i class="fas fa-project-diagram"></i> Key Projects</h3>
        </div>
        <div class="section-content">
          <div class="projects-grid">
            <% profile.projects.forEach(project => { %>
              <div class="project-card">
                <div class="project-header">
                  <h4><%= project.name %></h4>
                  <span class="project-year"><%= project.year %></span>
                </div>
                <p class="project-description"><%= project.description %></p>
                <div class="project-technologies">
                  <% project.technologies.forEach(tech => { %>
                    <span class="tech-tag"><%= tech %></span>
                  <% }); %>
                </div>
                <% if (project.impact) { %>
                  <div class="project-impact">
                    <i class="fas fa-chart-line"></i>
                    <span><%= project.impact %></span>
                  </div>
                <% } %>
              </div>
            <% }); %>
          </div>
        </div>
      </section>
      <% } %>

      <!-- Public Profiles Section -->
      <section id="profiles" class="section">
        <div class="section-header">
          <h3><i class="fas fa-share-alt"></i> Public Profiles</h3>
        </div>
        <div class="section-content">
          <div class="profiles-grid">
            <% profile.publicProfiles.forEach(profile_link => { %>
              <a href="<%= profile_link.url %>" target="_blank" class="profile-card">
                <i class="<%= profile_link.icon %>"></i>
                <span><%= profile_link.platform %></span>
                <i class="fas fa-external-link-alt"></i>
              </a>
            <% }); %>
          </div>
        </div>
      </section>

      <!-- Education Section -->
      <section id="education" class="section">
        <div class="section-header">
          <h3><i class="fas fa-graduation-cap"></i> Education</h3>
        </div>
        <div class="section-content">
          <div class="education-grid">
            <% profile.education.forEach(edu => { %>
              <div class="education-item">
                <div class="edu-degree"><%= edu.degree %></div>
                <div class="edu-institution"><%= edu.institution %></div>
                <div class="edu-details">
                  <span class="edu-year"><%= edu.year %></span>
                  <% if (edu.grade) { %>
                    <span class="edu-grade"><%= edu.grade %></span>
                  <% } %>
                </div>
              </div>
            <% }); %>
          </div>
        </div>
      </section>

      <!-- Analytics Section -->
      <section id="analytics" class="section">
        <div class="section-header">
          <h3><i class="fas fa-chart-pie"></i> Time Allocation Analytics</h3>
        </div>
        <div class="section-content">
          <div class="analytics-grid">
            <div class="chart-container">
              <canvas id="timeChart"></canvas>
            </div>
            <div class="activity-stats">
              <h4>Daily Time Distribution</h4>
              <div class="stats-list">
                <% profile.timeActivities.forEach(activity => { %>
                  <div class="stat-item">
                    <div class="stat-color" style="background-color: <%= activity.color %>"></div>
                    <div class="stat-info">
                      <div class="stat-name"><%= activity.activity %></div>
                      <div class="stat-value"><%= activity.hours %>h/day</div>
                    </div>
                  </div>
                <% }); %>
              </div>
            </div>
          </div>
        </div>
      </section>

    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>&copy; <%= new Date().getFullYear() %> <%= profile.personalInfo.name %>. All rights reserved.</p>
      <div class="footer-links">
        <% profile.publicProfiles.slice(0, 3).forEach(link => { %>
          <a href="<%= link.url %>" target="_blank"><i class="<%= link.icon %>"></i></a>
        <% }); %>
      </div>
    </div>
  </footer>

  <script src="/js/app.js"></script>
</body>
</html>
